# 좋아요/스프레드 정리

- 게시글별 좋아요는 숫자 하나가 아니라 배열로 관리: `let [like, setLikes] = useState([0,0,0])`.
- 클릭 시 함수형 업데이트로 해당 인덱스만 증가:

```jsx
setLikes(prev => {
  const more = [...prev];
  more[index] += 1;
  return more;
});
```

## prev 의미
- `setLikes(prev => ...)`의 `prev`는 React가 넘겨주는 최신 상태 값(이름은 자유: `currentLikes` 등).
- 바깥에 캡처된 `like`를 쓰는 대신 콜백 인자를 쓰면 연속 클릭/배치 업데이트에서도 누락 없이 누적됨.

## more 사본을 만드는 이유
- `prev`(state)를 직접 수정하면 React가 변경을 못 감지하거나 예상치 못한 동작을 함.
- 새 배열 `more`로 복사해 수정 후 리턴해야 “참조가 바뀌었다”고 판단해 리렌더.
- 얕은 복사라 숫자/문자 등 원시값은 완전히 분리되고, 객체는 참조를 공유하므로 내부 변경 시 둘 다 영향.

## 스프레드(`...`) 뜻
- 배열/객체의 요소를 “펼쳐서” 새 리터럴에 넣는 문법. 예: `[...a, ...b]`, `{ ...obj, extra: 1 }`.
- `const more = [...prev];`는 배열 얕은 복사 한 줄.
- `...`는 단독 사용 불가라 `const more = ...prev;`는 문법 오류. `[ ]`나 `{ }`, 함수 호출 인자 등 “펼칠 위치”가 필요.

## 화살표 함수 기억하기
- `매개변수 => 실행할 내용` 구조. 예: `prev => { return prev + 1; }`.
- `map((title, idx) => JSX)`처럼 왼쪽 값이 오른쪽에서 사용됨.

## 이름 짓기 팁
- `more`는 “좋아요가 하나 더”라는 의미로 사본 이름, `prev`는 “이전/현재 상태” 의미. 콜백 인자 이름은 의미만 맞추면 자유롭게 변경 가능.
